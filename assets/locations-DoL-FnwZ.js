import{S as o}from"./index-BsMCQAo3.js";import{g as S}from"./units-DP1s0Rro.js";function l(){const t=localStorage.getItem(o.SAVE_LOCATIONS);return t===null?!0:t==="true"}function O(t){localStorage.setItem(o.SAVE_LOCATIONS,t.toString())}function c(){const t=localStorage.getItem(o.LAST_LOCATIONS);return t?JSON.parse(t):[]}function f(t){if(!l())return;const n=c(),i=S(),a={...t,lastSearched:Date.now(),savedUnits:i},s=n.findIndex(e=>e.city.toLowerCase()===t.city.toLowerCase());if(s!==-1){const e=[...n];e[s]=a;const r=[e[s],...e.slice(0,s),...e.slice(s+1)];localStorage.setItem(o.LAST_LOCATIONS,JSON.stringify(r))}else{const e=[a,...n].slice(0,10);localStorage.setItem(o.LAST_LOCATIONS,JSON.stringify(e))}}function u(t){const i=c().filter(a=>a.id!==t);localStorage.setItem(o.LAST_LOCATIONS,JSON.stringify(i))}export{c as a,O as b,u as d,l as g,f as s};
