import{u as g,a as t,j as a,o as L,b}from"./index-BovIE0RI.js";import{b as I,g as x,u as o}from"./units-CBDlrtXX.js";import{A as y,a as M}from"./ArrowRightIcon-DeL0BwCH.js";import{g as C}from"./openWeather-BYeZP-fs.js";function W({city:r,temp:m,icon:h,time:c,realFeel:l,wind:s,humidity:i,timestamp:d}){const n=g();return t("div",{className:"forecast-card",onClick:()=>{n.push(`/weather?city=${encodeURIComponent(r)}&timestamp=${d}`).then()},children:[a("div",{className:"forecast-time",children:c}),a("img",{className:"forecast-icon",src:C(h),alt:"weather icon"}),t("div",{className:"forecast-temp",children:[Math.round(m),"°"]}),t("div",{className:"forecast-details",children:[t("div",{className:"forecast-detail",children:[a("span",{className:"forecast-label",children:"RealFeel:"}),t("span",{className:"forecast-value",children:[l,"°"]})]}),t("div",{className:"forecast-detail",children:[a("span",{className:"forecast-label",children:"Wind:"}),t("span",{className:"forecast-value",children:[s," ",I(x())]})]}),t("div",{className:"forecast-detail",children:[a("span",{className:"forecast-label",children:"Humidity:"}),t("span",{className:"forecast-value",children:[i,"%"]})]})]})]})}function F({forecastData:r,city:m,formatLabel:h}){const c=o(0),l=o(3),s=o(24),i=o(!1),d=o(!0),n=()=>{window.innerWidth<=768?l.value=2:l.value=3},u=()=>{s.value=window.innerWidth<=540?12:24},f=()=>{const e=document.querySelector(".forecast-scroll");e&&(i.value=e.scrollLeft>0,d.value=e.scrollLeft<e.scrollWidth-e.clientWidth-10)},v=()=>{f()};L(()=>{n(),u(),window.addEventListener("resize",n),window.addEventListener("resize",u);const e=document.querySelector(".forecast-scroll");e&&(e.addEventListener("scroll",v),setTimeout(f,100))}),b(()=>{window.removeEventListener("resize",n),window.removeEventListener("resize",u);const e=document.querySelector(".forecast-scroll");e&&e.removeEventListener("scroll",v)});const p=e=>{const w=document.querySelector(".forecast-scroll");w&&(w.scrollTo({left:e*190,behavior:"smooth"}),c.value=e)},N=()=>p(Math.max(0,c.value-1)),S=()=>{const e=Math.max(0,r.length-l.value);p(Math.min(e,c.value+1))};return a("div",{className:"forecast-page",children:t("div",{className:"forecast-container",children:[a("button",{className:"forecast-arrow",onClick:N,disabled:!i.value,children:a(y,{width:s.value,height:s.value})}),a("div",{className:"forecast-scroll",children:r.map(e=>a(W,{city:m,time:h(e.dt),icon:e.weather?.[0]?.icon,temp:Math.round(e.main?.temp),realFeel:Math.round(e.main?.feels_like),wind:Math.round(e.wind?.speed),humidity:e.main?.humidity,timestamp:e.dt},e.dt))}),a("button",{className:"forecast-arrow",onClick:S,disabled:!d.value,children:a(M,{width:s.value,height:s.value})})]})})}export{F};
